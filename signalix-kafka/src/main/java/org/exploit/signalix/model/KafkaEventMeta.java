package org.exploit.signalix.model;

import org.exploit.signalix.annotation.KafkaEvent;

import java.util.Arrays;
import java.util.Collections;
import java.util.List;

public record KafkaEventMeta(
    String topic,
    int partition,
    List<String> headers
) {
    public KafkaEventMeta() {
        this("events", -1, Collections.emptyList());
    }

    public KafkaEventMeta(String topic) {
        this(topic, -1, Collections.emptyList());
    }

    public KafkaEventMeta(String topic, int partition) {
        this(topic, partition, Collections.emptyList());
    }

    public KafkaEventMeta(KafkaEvent annotation) {
        this(annotation.topic(), annotation.partition(), Arrays.stream(annotation.headers()).toList());
    }
}
