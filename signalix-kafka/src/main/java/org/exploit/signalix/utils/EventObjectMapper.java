package org.exploit.signalix.utils;

import com.fasterxml.jackson.databind.ObjectMapper;
import org.exploit.signalix.event.holder.EventHolder;
import org.exploit.signalix.serializer.EventModule;

public class EventObjectMapper extends ObjectMapper {
    private final EventModule module = new EventModule(this);

    public void registerEvents(EventHolder eventListener) {
        for (var eventType : eventListener.getHandledEvents())
            module.addEvent(eventType);
    }

    public EventObjectMapper init() {
        return (EventObjectMapper) registerModule(module);
    }
}